# scanner.toml for Rust project
[agents.analyzer]
command = ["codex", "exec", "--model", "gpt-5.1-codex-mini", "-c", "model_reasoning_effort=\"medium\"", "--json", "--skip-git-repo-check", "-"]

[agents.fixer]
command = ["codex", "exec", "--model", "gpt-5.1-codex-mini", "-c", "model_reasoning_effort=\"medium\"", "--dangerously-bypass-approvals-and-sandbox", "--json", "--skip-git-repo-check", "-"]


[[checks]]
name = "rust-check"
command = ["cargo", "check", "--message-format=json"]
formatter = ["./scripts/cargo-to-gha.sh"]
env = {}
timeout = 120
enabled = true
tags = ["rust", "compile"]

[[checks]]
name = "rust-clippy"
command = ["cargo", "clippy", "--message-format=json", "--", "-D", "warnings"]
formatter = ["./scripts/cargo-to-gha.sh"]
env = {}
timeout = 120
enabled = true
tags = ["rust", "lint"]

[[checks]]
name = "rust-fmt"
command = ["cargo", "fmt", "--check"]
env = {}
timeout = 30
enabled = true
tags = ["rust", "format"]

[[checks]]
name = "rust-test"
command = ["cargo", "test"]
env = {}
timeout = 300
enabled = true
tags = ["rust", "test"]
